<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_51) on Sat Sep 28 21:29:27 MDT 2013 -->
<TITLE>
AbstractDataCollector
</TITLE>

<META NAME="date" CONTENT="2013-09-28">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractDataCollector";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AbstractDataCollector.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../com/ils/common/collector/CircularHistoryBuffer.html" title="class in com.ils.common.collector"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/ils/common/collector/AbstractDataCollector.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AbstractDataCollector.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.ils.common.collector</FONT>
<BR>
Class AbstractDataCollector</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.ils.common.collector.AbstractDataCollector</B>
</PRE>
<HR>
<DL>
<DT><PRE>public abstract class <B>AbstractDataCollector</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
The data collector encapsulates the business rules concerning
  the sufficiency of receiving inputs for a combined calculation.
  In this basic implementation, an instance of this class waits
  for inputs on a set of tags and informs the listeners when the
  inputs are ready. The getObservation() method is may be called at
  any time, even if acquisition is not complete. In the case
  of an incomplete observation, any points not refreshed will 
  remain at their prior values. 
  
  The Concrete implementation must, at a minimum, override the 
  methods for actual data collection.
  
  NOTE: A CopyOnWriteArrayList handles synchronization issues internally.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/ils/common/collector/Observation.html" title="class in com.ils.common.collector">Observation</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#prototype">prototype</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/ils/common/collector/CollectorState.html" title="enum in com.ils.common.collector">CollectorState</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#state">state</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#AbstractDataCollector(com.ils.common.collector.Observation)">AbstractDataCollector</A></B>(<A HREF="../../../../com/ils/common/collector/Observation.html" title="class in com.ils.common.collector">Observation</A>&nbsp;obs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor:</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#addDataCompleteListener(com.ils.common.collector.DataCompleteListener)">addDataCompleteListener</A></B>(<A HREF="../../../../com/ils/common/collector/DataCompleteListener.html" title="interface in com.ils.common.collector">DataCompleteListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#addDataPoint(com.ils.common.collector.DataPoint)">addDataPoint</A></B>(<A HREF="../../../../com/ils/common/collector/DataPoint.html" title="class in com.ils.common.collector">DataPoint</A>&nbsp;point)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Append a new data point to the end of the array.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#checkCollectionComplete()">checkCollectionComplete</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We have received an update from one data point, see if we've got them all.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#disableDataPoint(int)">disableDataPoint</A></B>(int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a data point from active acquisition.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#enableDataPoint(int, java.lang.String)">enableDataPoint</A></B>(int&nbsp;index,
                java.lang.String&nbsp;path)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Re-enable a data point that had previously been disabled.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#fireDataComplete()">fireDataComplete</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Notify all listeners that have registered interest for
  notification of collection complete.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/ils/common/collector/Observation.html" title="class in com.ils.common.collector">Observation</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#getObservation()">getObservation</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve a current copy of the observation "in work".</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#getSize()">getSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#initializeDataPointsForNextCycle()">initializeDataPointsForNextCycle</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Increment missed and bad reads, set all points update status to false.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#removeDataCompleteListener(com.ils.common.collector.DataCompleteListener)">removeDataCompleteListener</A></B>(<A HREF="../../../../com/ils/common/collector/DataCompleteListener.html" title="interface in com.ils.common.collector">DataCompleteListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#reportValueChanged(java.lang.String, java.util.Date, java.lang.Object, boolean)">reportValueChanged</A></B>(java.lang.String&nbsp;path,
                   java.util.Date&nbsp;ts,
                   java.lang.Object&nbsp;val,
                   boolean&nbsp;good)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle receipt of a new data value.This method should be called
 by the subclass whenever it receives an update via subscription.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#setBadReadTolerance(int)">setBadReadTolerance</A></B>(int&nbsp;tol)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the collector's tolerance to bad read.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#start()">start</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"start" is the signal to activate all our subscriptions and
 start the timeout timer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#startSubscription(com.ils.common.collector.DataPoint)">startSubscription</A></B>(<A HREF="../../../../com/ils/common/collector/DataPoint.html" title="class in com.ils.common.collector">DataPoint</A>&nbsp;point)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The subclass must manage the subscriptions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#stop()">stop</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"stop" is the signal to de-activate all our subscriptions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#stopSubscription(com.ils.common.collector.DataPoint)">stopSubscription</A></B>(<A HREF="../../../../com/ils/common/collector/DataPoint.html" title="class in com.ils.common.collector">DataPoint</A>&nbsp;point)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ils/common/collector/AbstractDataCollector.html#updatePrototypeTimestamp(java.util.Date)">updatePrototypeTimestamp</A></B>(java.util.Date&nbsp;ts)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update the timestamp of the prototype observation.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="state"><!-- --></A><H3>
state</H3>
<PRE>
protected <A HREF="../../../../com/ils/common/collector/CollectorState.html" title="enum in com.ils.common.collector">CollectorState</A> <B>state</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="prototype"><!-- --></A><H3>
prototype</H3>
<PRE>
protected final <A HREF="../../../../com/ils/common/collector/Observation.html" title="class in com.ils.common.collector">Observation</A> <B>prototype</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AbstractDataCollector(com.ils.common.collector.Observation)"><!-- --></A><H3>
AbstractDataCollector</H3>
<PRE>
public <B>AbstractDataCollector</B>(<A HREF="../../../../com/ils/common/collector/Observation.html" title="class in com.ils.common.collector">Observation</A>&nbsp;obs)</PRE>
<DL>
<DD>Constructor:
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>obs</CODE> - - the prototype observation. This includes tag names
              sufficient for establishing subscriptions to acquire
              values. This prototype value will be initialized
              to the current values of the tags referenced.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="addDataCompleteListener(com.ils.common.collector.DataCompleteListener)"><!-- --></A><H3>
addDataCompleteListener</H3>
<PRE>
public void <B>addDataCompleteListener</B>(<A HREF="../../../../com/ils/common/collector/DataCompleteListener.html" title="interface in com.ils.common.collector">DataCompleteListener</A>&nbsp;listener)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="removeDataCompleteListener(com.ils.common.collector.DataCompleteListener)"><!-- --></A><H3>
removeDataCompleteListener</H3>
<PRE>
public void <B>removeDataCompleteListener</B>(<A HREF="../../../../com/ils/common/collector/DataCompleteListener.html" title="interface in com.ils.common.collector">DataCompleteListener</A>&nbsp;listener)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addDataPoint(com.ils.common.collector.DataPoint)"><!-- --></A><H3>
addDataPoint</H3>
<PRE>
public void <B>addDataPoint</B>(<A HREF="../../../../com/ils/common/collector/DataPoint.html" title="class in com.ils.common.collector">DataPoint</A>&nbsp;point)</PRE>
<DL>
<DD>Append a new data point to the end of the array. Start a subscription
 immediately. We assume that this is used in an update situation and
 not when constructing the initial prototype.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>point</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getSize()"><!-- --></A><H3>
getSize</H3>
<PRE>
public int <B>getSize</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the number of data points being collected.</DL>
</DD>
</DL>
<HR>

<A NAME="disableDataPoint(int)"><!-- --></A><H3>
disableDataPoint</H3>
<PRE>
public void <B>disableDataPoint</B>(int&nbsp;index)</PRE>
<DL>
<DD>Remove a data point from active acquisition. The point
 remains in the list, but is neutered.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>index</CODE> - zero-based index of the point to be disabled.</DL>
</DD>
</DL>
<HR>

<A NAME="enableDataPoint(int, java.lang.String)"><!-- --></A><H3>
enableDataPoint</H3>
<PRE>
public boolean <B>enableDataPoint</B>(int&nbsp;index,
                               java.lang.String&nbsp;path)</PRE>
<DL>
<DD>Re-enable a data point that had previously been disabled. 
 The point's tag path is re-set and a subscription established.
 If the point had not been disabled, we do nothing and return false.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>index</CODE> - zero-based index of the point to be disabled.<DD><CODE>path</CODE> - tag path to the data point to be enabled.
<DT><B>Returns:</B><DD>true if the operation was successful.</DL>
</DD>
</DL>
<HR>

<A NAME="checkCollectionComplete()"><!-- --></A><H3>
checkCollectionComplete</H3>
<PRE>
protected void <B>checkCollectionComplete</B>()</PRE>
<DL>
<DD>We have received an update from one data point, see if we've got them all.
 If so, then inform interested listeners. Ignore data points without
 tag names, as these are assumed to be "calculated", not collected.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="start()"><!-- --></A><H3>
start</H3>
<PRE>
public void <B>start</B>()</PRE>
<DL>
<DD>"start" is the signal to activate all our subscriptions and
 start the timeout timer. Take the proxy observation and create
 a subscription for each data point.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="stop()"><!-- --></A><H3>
stop</H3>
<PRE>
public void <B>stop</B>()</PRE>
<DL>
<DD>"stop" is the signal to de-activate all our subscriptions.
 This allows us to be garbage-collected.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="fireDataComplete()"><!-- --></A><H3>
fireDataComplete</H3>
<PRE>
protected void <B>fireDataComplete</B>()</PRE>
<DL>
<DD>Notify all listeners that have registered interest for
  notification of collection complete.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initializeDataPointsForNextCycle()"><!-- --></A><H3>
initializeDataPointsForNextCycle</H3>
<PRE>
public int <B>initializeDataPointsForNextCycle</B>()</PRE>
<DL>
<DD>Increment missed and bad reads, set all points update status to false. 
 This method is called whenever a collection of reads is complete. However, 
 it may also be called independently from outside this class. An example
 of when it may be desirable to call the method independently might be
 if results were collected with a getObservation() before notification
 that the read was complete.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the number of data points that had NOT been updated this cycle.</DL>
</DD>
</DL>
<HR>

<A NAME="reportValueChanged(java.lang.String, java.util.Date, java.lang.Object, boolean)"><!-- --></A><H3>
reportValueChanged</H3>
<PRE>
protected void <B>reportValueChanged</B>(java.lang.String&nbsp;path,
                                  java.util.Date&nbsp;ts,
                                  java.lang.Object&nbsp;val,
                                  boolean&nbsp;good)</PRE>
<DL>
<DD>Handle receipt of a new data value.This method should be called
 by the subclass whenever it receives an update via subscription.
 
 Note that calculated tags (those with null tag paths) cannot be updated
 with this method. Those values must be set explicitly.
 
 Ignore null (calculated) values. 
 NOTE: Missed and bad read accounting is handled outside this 
       method.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="startSubscription(com.ils.common.collector.DataPoint)"><!-- --></A><H3>
startSubscription</H3>
<PRE>
protected abstract void <B>startSubscription</B>(<A HREF="../../../../com/ils/common/collector/DataPoint.html" title="class in com.ils.common.collector">DataPoint</A>&nbsp;point)</PRE>
<DL>
<DD>The subclass must manage the subscriptions.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>point,</CODE> - the data point representing a tag</DL>
</DD>
</DL>
<HR>

<A NAME="stopSubscription(com.ils.common.collector.DataPoint)"><!-- --></A><H3>
stopSubscription</H3>
<PRE>
protected abstract void <B>stopSubscription</B>(<A HREF="../../../../com/ils/common/collector/DataPoint.html" title="class in com.ils.common.collector">DataPoint</A>&nbsp;point)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setBadReadTolerance(int)"><!-- --></A><H3>
setBadReadTolerance</H3>
<PRE>
protected void <B>setBadReadTolerance</B>(int&nbsp;tol)</PRE>
<DL>
<DD>Set the collector's tolerance to bad read. The value supplied
 represents the number of consecutive bad reads before concluding 
 that the point quality is bad.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tol</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getObservation()"><!-- --></A><H3>
getObservation</H3>
<PRE>
public <A HREF="../../../../com/ils/common/collector/Observation.html" title="class in com.ils.common.collector">Observation</A> <B>getObservation</B>()</PRE>
<DL>
<DD>Retrieve a current copy of the observation "in work".
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a copy of the current observation.</DL>
</DD>
</DL>
<HR>

<A NAME="updatePrototypeTimestamp(java.util.Date)"><!-- --></A><H3>
updatePrototypeTimestamp</H3>
<PRE>
public void <B>updatePrototypeTimestamp</B>(java.util.Date&nbsp;ts)</PRE>
<DL>
<DD>Update the timestamp of the prototype observation.
 This is used in the case where none of the data points
 has been updated for a cycle. Thus the data has not changed,
 but a normal collection interval has passed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ts</CODE> - new timestamp.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AbstractDataCollector.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../com/ils/common/collector/CircularHistoryBuffer.html" title="class in com.ils.common.collector"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/ils/common/collector/AbstractDataCollector.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AbstractDataCollector.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
